<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- font avsove -->
    <script src="https://kit.fontawesome.com/ffaa08f8a4.js" crossorigin="anonymous"></script>
  <!-- Bootstrap CSS  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
  <!-- google fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;900&display=swap" rel="stylesheet" />

  <!-- Index CSS File -->
  <link rel="stylesheet" href="css/index.css" />

  <title>Video Conference App</title>
</head>

<body>
  <!-- NAVBAR  -->
  <nav class="navbar navbar-expand-lg navbar-dark navColor">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Meeting Zone</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a type="button" class="nav-link active" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Profile
          </a>
        </li>

      </ul>
      <form  action="/log_out" method="post">
          <button class="btn btn-danger" type="submit" formaction = "/log_out" name = 'logging_out'>Log Out <i class="fas fa-sign-out-alt"></i></button>
      </form>

    </div>
  </div>
</nav>
 <!-- MODAL PROFİLE -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">

          <label >Username:</label>
            <h3 id="username"><%= username %> </h3>
            <br>
            <label >Name:</label>
            <h3 id="username"><%= firstname %></h3>
            <br>

            <label for "getEmail">Email</label>
            <h3 id="username"><%= email %></h3>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          
        </div>
      </div>
    </div>
  </div>
  <!-- Main section -->
  <section id="MainSection">

    <div class="MainSecionBackground float-container ">
      <!--  Friends Section  -->
      <!--
      <div class="SearchAndFriendsSection float-child">

        <div class="MainSectionSearch ">

          <input style="width:100%;height:40px;border:0;" type="text" placeholder="Search" name="SearchFriends" value="">
          <button class="AddFriendsButton btn  btn-lg" style="width:100%" onclick="???" type="button" name="button">Add Friends</button>
          <p class="MainSectionTitle">Friends</p>
        </div>

        <div class="MainSectionFriends">
                <div class="FriendListItem">
                  <ul>
                  <li><a type="button" onclick="openChat( 1 )"> Friend 1 </a></li>
                 <li><a type="button" onclick="openChat( 2 )"> Friend 2 </a></li>
                 <li><a type="button" onclick="openChat( 3 )"> Friend 3 </a></li>
                 <li><a type="button" onclick="openChat( 4 )"> Friend 4 </a></li>
               </ul>
               </div>
            </div>
      </div>
      -->

      <!-- Chat Section -->
      <div class="MainChatSection float-child " style="display: none">

        <div class="MainChatTitleSection" >
          <button class="chatSectionBackButton" onclick="backButton()" ><i class="fas fa-2x fa-arrow-left"></i></button>

          <form  method="GET" class="MessageGetNameOfFriend">
            <output name="friendUsername">FriendUsername</output>
          </form>
          <output name="result"></output>
        </div>

        <div class="chatHistorySection">
          <div id="chathistory">
            <ul id="1" class="messages" ></ul>
            <ul id="2" class="messages"  ></ul>
          </div>
        </div>

        <div class="chat-attachment-section">

          <input class="chat-space" type="text" id="message-input" placeholder="Say Something!">
          <button class="send" onclick="sendMessage()" type="button">Send</button>

        </div>
      </div>

      <!-- Buttons Section -->
      <div class="MainSectionButton float-child" >
        <section id="buttonSection">
          <button type="button" onclick="joinRoom()" class="btn btn-lg  joinBtn btn-primary"><i class="fas fa-dungeon"></i> Join Room</button>

            <a  class="btn btn-lg  createBtn btn-outline-dark joinSectioninsdeDivbtn" href="<%= roomId  %>" ><i class="fas fa-hat-wizard"></i>Create Room</a>
        </section>
      </div>
    </div>
  </section>
  <section id="joinSection">
      <div class="joinSectionDiv">
        <label class="joinSectionDivlbl">Room ID :</label> <input class="joinSectionDivinput" id="roomIdInput" type="text" name="" value="">
        <br>

        <div class="joinSectioninsdeDiv">

            <button onclick="backBtn()" class="btn btn-secondary joinSectioninsdeDivbtn" type="button" name="button">Back</button>
            <button onclick="join()" class="btn btn-secondary joinSectioninsdeDivbtn">Join</button>


        </div>
      </div>
    </section>
    <!-- <section id="createSection">
      <div class="joinSectionDiv">
        <br>
        <label class="joinSectionDivlbl">Password :</label>
        <input type="Password" id="room_password" name="room_password" >
        <br>
        <div class="joinSectioninsdeDiv">

            <button onclick="backBtn()" class="btn btn-secondary joinSectioninsdeDivbtn" type="button" name="button">Back</button>
            <a  class="btn btn-secondary joinSectioninsdeDivbtn" href="<%= roomId  %>" >Create</a>


        </div>

      </div>
    </section> -->

  <!-- değişecek -->
  <!-- <div class="container">
    <div class="jumbotron">
      <h1>Video Conference App</h1>
    </div>
    <div class="row">
      <div class="col-md-6 mb-5 d-flex justify-content-center align-items-center start_meet">
        <h3>Create a meeting room</h3>
        <div class="row">
          <div class="col-12">
            <a class="btn btn-success btn-lg" href="<%= roomId  %> ">Start instant meeting</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 mb-5 d-flex justify-content-start align-items-center join_room">
        <h3>Join an exsisting room</h3>

        <div class="row d-flex justify-content-center">
          <div class="col-7">
            <input type="text" class="form-control" id="roomIdInput" placeholder="Enter room id" />
          </div>
          <div class="col-5">
            <button type="button" onclick="join()" class="btn btn-primary d-inline">

              Join Room
            </button>
          </div>
        </div>
      </div>
    </div>
  </div> -->

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js" integrity="sha384-XEerZL0cuoUbHE4nZReLT7nx9gQrQreJekYhJD9WNWhH8nEW+0c5qq7aIo2Wl30J" crossorigin="anonymous"></script>
  <script src="js/Join.js" defer></script>
  <!-- <script src="{{ url_for('public', filename = 'js/room2.js') }}" charset="utf-8"></script> -->
  <script>
    // Room join handler function
    const join = () => {
      if($("#roomIdInput").val().length>0){
        window.location.href = `/${
            document.getElementById("roomIdInput").value
          }`;
      }
    };
  </script>
</body>

</html>
